-- phpMyAdmin SQL Dump
-- version 5.1.1
-- https://www.phpmyadmin.net/
--
-- Servidor: 127.0.0.1
-- Tiempo de generación: 16-12-2021 a las 14:06:47
-- Versión del servidor: 10.4.22-MariaDB
-- Versión de PHP: 8.0.13

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de datos: `agenda_turnos`
--

DELIMITER $$
--
-- Procedimientos
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `INSERTARTURNOS` (IN `P_IDCAL` INT, IN `P_HINICIO` TIME, IN `P_HFIN` TIME, IN `P_TIEMPOTURNO` TIME)  BEGIN
	DECLARE V_CANT INT;
    DECLARE V_HTURNO TIME;
    SELECT round(((time_to_sec(P_HFIN) - time_to_sec(P_HINICIO)) / 60) / (time_to_sec(P_TIEMPOTURNO) / 60)) INTO V_CANT;
    SET V_HTURNO = P_HINICIO;
    MYLOOP:LOOP
    SET V_CANT = V_CANT - 1;
    INSERT INTO turnos (calendarioid, hora_turno, estadoturnoid, createdAt, updatedAt) VALUES (P_IDCAL, V_HTURNO, 1, NOW(), NOW());
    SET V_HTURNO = ADDTIME(V_HTURNO, P_TIEMPOTURNO);
    IF(V_CANT = 0)THEN
    	LEAVE MYLOOP;
    END IF;
    END LOOP;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `TURNOAUSENTE` (IN `P_IDTURN` INT)  BEGIN
 UPDATE turnos SET estadoturnoid = 5 WHERE id = P_IDTURN;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `agendas`
--

CREATE TABLE `agendas` (
  `id` int(11) NOT NULL,
  `personaid` int(11) NOT NULL,
  `clinicaid` int(11) NOT NULL,
  `medicoid` int(11) DEFAULT NULL,
  `procedimientoid` int(11) DEFAULT NULL,
  `nombre` varchar(50) NOT NULL,
  `tiempo_turno` time NOT NULL,
  `createdAt` datetime NOT NULL,
  `updatedAt` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `agendas`
--

INSERT INTO `agendas` (`id`, `personaid`, `clinicaid`, `medicoid`, `procedimientoid`, `nombre`, `tiempo_turno`, `createdAt`, `updatedAt`) VALUES
(11, 34, 1, 5, NULL, 'Agenda de javier sosa', '00:30:00', '2021-11-25 16:06:43', '2021-11-25 16:06:43'),
(12, 34, 2, 8, NULL, 'Agenda de mario perez', '00:15:00', '2021-11-25 16:10:56', '2021-11-25 16:10:56'),
(13, 34, 3, 7, NULL, 'Agenda de manuel gatica', '00:45:00', '2021-11-25 16:14:31', '2021-11-25 16:14:31'),
(14, 34, 4, 6, NULL, 'Agenda de jorge guzman', '01:00:00', '2021-11-25 16:17:01', '2021-11-25 16:17:01'),
(15, 34, 1, NULL, 1, 'Agenda de Radiologia', '00:30:00', '2021-11-25 16:19:41', '2021-11-25 16:19:41'),
(16, 34, 2, NULL, 2, 'Agenda de Electrocardiograma', '00:45:00', '2021-11-25 16:23:16', '2021-11-25 16:23:16'),
(17, 34, 3, NULL, 3, 'Agenda de Ecografia', '00:30:00', '2021-11-25 16:24:58', '2021-11-25 16:24:58'),
(18, 34, 4, NULL, 4, 'Agenda de Endoscopia', '00:45:00', '2021-11-25 16:26:20', '2021-11-25 16:26:20'),
(19, 34, 5, NULL, 2, 'Agenda de Electrocardiograma', '00:45:00', '2021-11-25 16:28:21', '2021-11-25 16:28:21'),
(20, 34, 5, 5, NULL, 'Agenda de javier sosa', '00:30:00', '2021-11-25 16:30:21', '2021-11-25 16:30:21'),
(21, 34, 5, NULL, 4, 'Agenda de Endoscopia', '00:45:00', '2021-11-25 17:15:38', '2021-11-25 17:15:38'),
(22, 34, 7, 6, NULL, 'Agenda de jorge guzman', '01:00:00', '2021-11-25 17:17:03', '2021-11-25 17:17:03'),
(23, 34, 8, 9, NULL, 'Agenda de kevinmedico paredesmedico', '00:45:00', '2021-11-29 19:33:29', '2021-11-29 19:33:29'),
(24, 45, 9, 11, NULL, 'Agenda de juan Perez', '00:15:00', '2021-12-12 14:10:05', '2021-12-12 14:10:05'),
(25, 45, 9, NULL, 3, 'Agenda de Ecografia', '00:30:00', '2021-12-12 17:30:01', '2021-12-12 17:30:01'),
(26, 45, 8, 12, NULL, 'Agenda de Juli Pink', '00:20:00', '2021-12-13 14:02:07', '2021-12-13 14:02:07'),
(27, 45, 1, 12, NULL, 'Agenda de Juli Pink', '00:20:00', '2021-12-15 02:51:15', '2021-12-15 02:51:15'),
(28, 45, 2, 12, NULL, 'Agenda de Juli Pink', '00:20:00', '2021-12-15 02:57:21', '2021-12-15 02:57:21'),
(29, 45, 1, NULL, 8, 'Agenda de Tomografia', '00:40:00', '2021-12-15 17:14:28', '2021-12-15 17:14:28'),
(30, 45, 7, 13, NULL, 'Agenda de Sofia Lorca', '00:20:00', '2021-12-16 01:02:51', '2021-12-16 01:02:51');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `calendarios`
--

CREATE TABLE `calendarios` (
  `id` int(11) NOT NULL,
  `agendaid` int(11) NOT NULL,
  `fecha` date NOT NULL,
  `hora_inicio` time NOT NULL,
  `hora_fin` time NOT NULL,
  `createdAt` datetime NOT NULL,
  `updatedAt` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `calendarios`
--

INSERT INTO `calendarios` (`id`, `agendaid`, `fecha`, `hora_inicio`, `hora_fin`, `createdAt`, `updatedAt`) VALUES
(15, 11, '2021-11-29', '08:00:00', '11:30:00', '2021-11-25 16:07:43', '2021-11-25 16:07:43'),
(16, 11, '2021-11-30', '08:00:00', '11:30:00', '2021-11-25 16:08:43', '2021-11-25 16:08:43'),
(17, 11, '2021-12-01', '08:00:00', '11:30:00', '2021-11-25 16:09:22', '2021-11-25 16:09:22'),
(18, 12, '2021-11-26', '08:00:00', '11:00:00', '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(19, 12, '2021-11-29', '08:00:00', '11:00:00', '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(20, 12, '2021-12-01', '08:00:00', '11:00:00', '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(21, 12, '2021-11-26', '14:30:00', '16:30:00', '2021-11-25 16:14:04', '2021-11-25 16:14:04'),
(22, 13, '2021-12-01', '08:00:00', '13:00:00', '2021-11-25 16:15:20', '2021-11-25 16:15:20'),
(23, 13, '2021-12-08', '08:00:00', '13:00:00', '2021-11-25 16:16:08', '2021-11-25 16:16:08'),
(24, 14, '2021-11-26', '14:30:00', '18:30:00', '2021-11-25 16:18:02', '2021-11-25 16:18:02'),
(25, 14, '2021-12-03', '14:30:00', '18:30:00', '2021-11-25 16:18:23', '2021-11-25 16:18:23'),
(26, 14, '2021-12-09', '14:30:00', '18:30:00', '2021-11-25 16:19:03', '2021-11-25 16:19:03'),
(27, 15, '2021-11-29', '08:00:00', '12:00:00', '2021-11-25 16:21:19', '2021-11-25 16:21:19'),
(28, 15, '2021-11-30', '08:00:00', '12:00:00', '2021-11-25 16:21:41', '2021-11-25 16:21:41'),
(29, 15, '2021-12-05', '08:00:00', '12:00:00', '2021-11-25 16:21:53', '2021-11-25 16:21:53'),
(30, 16, '2021-12-01', '09:00:00', '12:00:00', '2021-11-25 16:23:56', '2021-11-25 16:23:56'),
(31, 16, '2021-12-02', '09:00:00', '12:00:00', '2021-11-25 16:24:10', '2021-11-25 16:24:10'),
(32, 16, '2021-12-08', '09:00:00', '12:00:00', '2021-11-25 16:24:23', '2021-11-25 16:24:23'),
(33, 16, '2021-12-09', '09:00:00', '12:00:00', '2021-11-25 16:24:34', '2021-11-25 16:24:34'),
(34, 17, '2021-11-26', '08:00:00', '11:00:00', '2021-11-25 16:25:38', '2021-11-25 16:25:38'),
(35, 17, '2021-11-29', '08:00:00', '11:00:00', '2021-11-25 16:25:50', '2021-11-25 16:25:50'),
(36, 17, '2021-12-03', '08:00:00', '11:00:00', '2021-11-25 16:26:03', '2021-11-25 16:26:03'),
(37, 18, '2021-11-30', '14:00:00', '17:00:00', '2021-11-25 16:26:42', '2021-11-25 16:26:42'),
(38, 18, '2021-12-02', '14:00:00', '17:00:00', '2021-11-25 16:27:03', '2021-11-25 16:27:03'),
(39, 18, '2021-12-07', '14:00:00', '17:00:00', '2021-11-25 16:27:15', '2021-11-25 16:27:15'),
(40, 18, '2021-12-09', '14:00:00', '17:00:00', '2021-11-25 16:27:29', '2021-11-25 16:27:29'),
(41, 19, '2021-11-29', '08:00:00', '12:00:00', '2021-11-25 16:28:46', '2021-11-25 16:28:46'),
(42, 19, '2021-12-06', '08:00:00', '12:00:00', '2021-11-25 16:28:58', '2021-11-25 16:28:58'),
(43, 19, '2021-11-30', '08:00:00', '12:00:00', '2021-11-25 16:29:09', '2021-11-25 16:29:09'),
(44, 19, '2021-12-07', '08:00:00', '12:00:00', '2021-11-25 16:29:19', '2021-11-25 16:29:19'),
(45, 20, '2021-11-26', '08:00:00', '11:30:00', '2021-11-25 16:30:46', '2021-11-25 16:30:46'),
(46, 20, '2021-12-02', '08:00:00', '11:30:00', '2021-11-25 16:30:58', '2021-11-25 16:30:58'),
(47, 20, '2021-12-03', '08:00:00', '11:30:00', '2021-11-25 16:31:10', '2021-11-25 16:31:10'),
(48, 11, '2021-11-24', '08:00:00', '11:30:00', '2021-11-25 16:34:35', '2021-11-25 16:34:35'),
(49, 21, '2021-11-30', '08:00:00', '12:00:00', '2021-11-25 17:16:20', '2021-11-25 17:16:20'),
(50, 22, '2021-12-07', '12:00:00', '14:30:00', '2021-11-25 17:17:29', '2021-11-25 17:17:29'),
(51, 23, '2021-12-01', '17:00:00', '21:00:00', '2021-11-29 19:34:56', '2021-11-29 19:34:56'),
(52, 23, '2021-12-03', '15:00:00', '17:00:00', '2021-11-29 20:21:59', '2021-11-29 20:21:59'),
(53, 24, '2021-12-13', '08:00:00', '12:00:00', '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(54, 25, '2021-12-13', '08:00:00', '12:00:00', '2021-12-12 17:30:25', '2021-12-12 17:30:25'),
(55, 25, '2021-12-14', '14:00:00', '16:00:00', '2021-12-12 18:46:55', '2021-12-12 18:46:55'),
(56, 26, '2021-12-14', '10:00:00', '12:00:00', '2021-12-13 14:02:31', '2021-12-13 14:02:31'),
(57, 25, '2021-12-15', '08:00:00', '12:00:00', '2021-12-15 01:30:16', '2021-12-15 01:30:16'),
(58, 26, '2021-12-15', '16:00:00', '18:00:00', '2021-12-15 02:02:40', '2021-12-15 02:02:40'),
(59, 27, '2021-12-15', '10:00:00', '12:00:00', '2021-12-15 02:51:42', '2021-12-15 02:51:42'),
(60, 28, '2021-12-16', '09:00:00', '10:00:00', '2021-12-15 02:57:34', '2021-12-15 02:57:34'),
(61, 21, '2021-12-17', '12:00:00', '14:00:00', '2021-12-15 15:44:06', '2021-12-15 15:44:06'),
(62, 18, '2021-12-16', '18:00:00', '19:00:00', '2021-12-15 16:04:38', '2021-12-15 16:04:38'),
(63, 29, '2021-12-18', '12:00:00', '16:00:00', '2021-12-15 17:15:04', '2021-12-15 17:15:04'),
(64, 29, '2021-12-21', '14:00:00', '16:00:00', '2021-12-15 23:15:30', '2021-12-15 23:15:30'),
(65, 30, '2021-12-20', '09:00:00', '11:00:00', '2021-12-16 01:03:27', '2021-12-16 01:03:27');

--
-- Disparadores `calendarios`
--
DELIMITER $$
CREATE TRIGGER `CREARTURNOS` AFTER INSERT ON `calendarios` FOR EACH ROW BEGIN
	DECLARE V_TIEMPOTURNO TIME;
    SELECT TIEMPO_TURNO INTO V_TIEMPOTURNO FROM agendas a WHERE A.id = new.agendaid;
    CALL INSERTARTURNOS(new.id, new.hora_inicio, new.hora_fin, V_TIEMPOTURNO);
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `clinicas`
--

CREATE TABLE `clinicas` (
  `id` int(11) NOT NULL,
  `nombre` varchar(50) NOT NULL,
  `direccion` varchar(250) NOT NULL,
  `createdAt` datetime NOT NULL,
  `updatedAt` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `clinicas`
--

INSERT INTO `clinicas` (`id`, `nombre`, `direccion`, `createdAt`, `updatedAt`) VALUES
(1, 'Rivadavia', 'Rivadavia 456 San Luis', '2021-11-07 23:58:23', '2021-11-07 23:58:23'),
(2, 'Santa Rita', 'Falucho 454 San Luis', '2021-11-07 23:58:23', '2021-11-07 23:58:23'),
(3, 'San Jose', 'Perderna 222 San luis', '2021-11-07 23:59:36', '2021-11-07 23:59:36'),
(4, 'Santa Maria', 'Salvador 4545', '2021-11-07 23:59:36', '2021-12-13 13:32:07'),
(5, 'Quilmes', 'el sabor del encuentro', '2021-11-21 20:02:41', '2021-11-21 20:02:41'),
(7, 'CEMU', 'Colon 4545 San luis', '2021-11-25 17:16:45', '2021-12-13 13:32:53'),
(8, 'La punta centro medico', 'av sol', '2021-11-29 19:31:00', '2021-12-13 13:31:20'),
(9, 'Bolivar', 'Bolivar 124', '2021-12-12 13:59:16', '2021-12-12 13:59:16');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `especialidads`
--

CREATE TABLE `especialidads` (
  `id` int(11) NOT NULL,
  `nombre` varchar(50) NOT NULL,
  `detalles` varchar(250) NOT NULL,
  `createdAt` datetime NOT NULL,
  `updatedAt` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `especialidads`
--

INSERT INTO `especialidads` (`id`, `nombre`, `detalles`, `createdAt`, `updatedAt`) VALUES
(1, 'Cardiologia', 'Cardiología', '2021-11-07 23:53:26', '2021-11-07 23:53:26'),
(2, 'Pediatria', 'Pediatria', '2021-11-07 23:53:26', '2021-11-07 23:53:26'),
(3, 'Neurologia', 'Neurología', '2021-11-07 23:54:06', '2021-11-07 23:54:06'),
(4, 'Gastroenterologia', 'Gastroenterología', '2021-11-07 23:54:06', '2021-11-07 23:54:06'),
(6, 'Traumatologia', 'Traumatologia', '2021-11-29 19:32:55', '2021-12-13 14:00:25'),
(7, 'Clinica', 'Clinica medica', '2021-12-12 14:00:22', '2021-12-12 14:00:22'),
(8, 'Renal', 'Renal', '2021-12-13 14:00:57', '2021-12-13 14:00:57'),
(9, 'Nefrologia', 'Atencion nefrologia', '2021-12-16 01:01:55', '2021-12-16 01:01:55');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `estado_turnos`
--

CREATE TABLE `estado_turnos` (
  `id` tinyint(4) NOT NULL,
  `descripcion` varchar(250) NOT NULL,
  `createdAt` datetime NOT NULL,
  `updatedAt` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `estado_turnos`
--

INSERT INTO `estado_turnos` (`id`, `descripcion`, `createdAt`, `updatedAt`) VALUES
(1, 'Disponible', '2021-11-07 23:45:13', '2021-11-07 23:45:13'),
(2, 'Reservado', '2021-11-07 23:45:13', '2021-11-07 23:45:13'),
(3, 'Cancelado', '2021-11-07 23:45:31', '2021-11-07 23:45:31'),
(4, 'Confirmado', '2021-11-07 23:45:31', '2021-11-07 23:45:31'),
(5, 'Ausente', '2021-11-07 23:45:56', '2021-11-07 23:45:56');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `medicos`
--

CREATE TABLE `medicos` (
  `id` int(11) NOT NULL,
  `personaid` int(11) NOT NULL,
  `matricula` int(11) NOT NULL,
  `especialidadid` int(11) NOT NULL,
  `createdAt` datetime NOT NULL,
  `updatedAt` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `medicos`
--

INSERT INTO `medicos` (`id`, `personaid`, `matricula`, `especialidadid`, `createdAt`, `updatedAt`) VALUES
(5, 32, 3001234, 1, '2021-11-25 19:47:16', '2021-11-25 19:47:16'),
(6, 31, 2001234, 4, '2021-11-25 19:47:16', '2021-11-25 19:47:16'),
(7, 33, 1001234, 3, '2021-11-25 19:48:15', '2021-11-25 19:48:15'),
(8, 30, 4001234, 2, '2021-11-25 19:48:15', '2021-11-25 19:48:15'),
(9, 44, 312300, 6, '2021-11-29 19:33:06', '2021-11-29 19:33:06'),
(11, 47, 4578, 7, '2021-12-12 14:09:14', '2021-12-12 14:09:14'),
(12, 49, 54562, 8, '2021-12-13 14:01:17', '2021-12-13 14:01:17'),
(13, 52, 4565, 9, '2021-12-16 01:02:08', '2021-12-16 01:02:08');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `personas`
--

CREATE TABLE `personas` (
  `id` int(11) NOT NULL,
  `dni` int(11) NOT NULL,
  `usuarioid` int(11) DEFAULT NULL,
  `nombre` varchar(50) NOT NULL,
  `apellido` varchar(50) NOT NULL,
  `celular` int(11) NOT NULL,
  `email` varchar(50) NOT NULL,
  `domicilio` varchar(250) NOT NULL,
  `riesgoso` int(11) NOT NULL DEFAULT 0,
  `tipoPer` int(11) NOT NULL,
  `createdAt` datetime NOT NULL,
  `updatedAt` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `personas`
--

INSERT INTO `personas` (`id`, `dni`, `usuarioid`, `nombre`, `apellido`, `celular`, `email`, `domicilio`, `riesgoso`, `tipoPer`, `createdAt`, `updatedAt`) VALUES
(30, 47001233, NULL, 'Mirtha', 'Perez', 266415154, 'mirthaperez@gmail.com', 'san luis, centro', 0, 0, '2021-11-25 19:41:42', '2021-11-25 19:41:42'),
(31, 23894555, NULL, 'Jorge', 'Guzman', 266443321, 'jorgeguzman@gmail.com', 'san luis', 0, 0, '2021-11-25 19:41:42', '2021-11-25 19:41:42'),
(32, 29137254, NULL, 'Javier', 'Sosa', 266475762, 'javiersosa@gmail.com', 'calle falsa 123', 0, 0, '2021-11-25 19:44:48', '2021-11-25 19:44:48'),
(33, 28347881, NULL, 'Manuel', 'Gimenez', 266433321, 'manuelg@gmail.com', 'calle norte 123', 0, 0, '2021-11-25 19:44:48', '2021-11-25 19:44:48'),
(34, 39137254, 25, 'Kevin', 'Paredes', 2147483647, 'kevinenriquep26@gmail.com', 'la punta, el quebracho', 0, 0, '2021-11-25 15:52:00', '2021-11-25 15:52:00'),
(35, 39254777, 26, 'Fernando', 'Gatica', 2147483647, 'fergatica@gmail.com', 'san luis, centro', 0, 0, '2021-11-25 15:53:50', '2021-11-25 15:53:50'),
(36, 38641361, 27, 'Marcelo', 'Gonzalez', 2147483647, 'marce@gmail.com', 'merlo', 0, 0, '2021-11-25 15:55:51', '2021-11-25 15:55:51'),
(37, 37570301, 28, 'Laura', 'Chirino', 2147483647, 'lauchi@gmail.com', 'san luis, calle 893', 0, 0, '2021-11-25 15:58:17', '2021-11-25 15:58:17'),
(38, 36987511, 29, 'Jorge', 'Buscarolo', 2147483647, 'jorgebuscarolo@gmail.com', 'san luis capital', 0, 0, '2021-11-25 15:59:48', '2021-11-25 15:59:48'),
(39, 37811793, 30, 'Pedro', 'Blanco', 2147483647, 'peblanco@gmail.com', 'san luis, 25 de mayo', 1, 0, '2021-11-25 16:01:17', '2021-12-16 09:30:31'),
(40, 37513921, 31, 'Fernado', 'Saez', 2147483647, 'fsaez@gmail.com', 'justo daract 664', 1, 0, '2021-11-25 16:03:14', '2021-12-16 09:37:12'),
(41, 37664881, 32, 'Maximo', 'Reich', 2147483647, 'maximerch@gmail.com', 'san luis junin 455', 1, 0, '2021-11-25 16:33:19', '2021-12-16 10:05:31'),
(42, 32123321, 33, 'Enrique', 'Paredes', 2147483647, 'enriquep@gmail.com', 'san luis', 2, 0, '2021-11-25 17:11:16', '2021-12-16 09:29:08'),
(43, 39373635, 34, 'Azucena', 'A', 2147483647, 'azu@gmail.com', 'la punta', 4, 0, '2021-11-29 19:26:54', '2021-12-16 09:50:55'),
(44, 39123322, NULL, 'Kevin', 'Bacon', 212312312, 'kevinme@gmail.com', 'la punta', 0, 0, '2021-11-29 19:32:26', '2021-11-29 19:32:26'),
(45, 31207690, 38, 'Martín', 'Zanche', 2147483647, 'marche@gmail.com', 'B° Barrancas Coloradas, manzana 482 casa 41', 0, 0, '2021-12-12 13:36:57', '2021-12-12 13:36:57'),
(47, 12121212, NULL, 'Juan', 'Perez', 3425323, 'jp@jp', 'Alcaraz 545', 0, 1, '2021-12-12 14:09:03', '2021-12-12 14:09:03'),
(49, 4562135, NULL, 'Julieta', 'Pink', 5465452, 'julip@gs', 'Mitre 24135', 0, 1, '2021-12-13 13:59:32', '2021-12-13 13:59:32'),
(50, 35664511, 39, 'Marcos', 'Paz', 2147483647, 'marcos@paz', 'Alcorta 4545, Cordoba', 1, 0, '2021-12-13 14:30:20', '2021-12-16 09:44:50'),
(51, 23444333, NULL, 'Maria', 'Paz', 2147483647, 'mariapaz@gmail.com', 'San Martin 234, La toma', 0, 2, '2021-12-16 00:54:57', '2021-12-16 00:54:57'),
(52, 4542245, NULL, 'Sofia', 'Lorca', 34343223, 'sofialoreca@gmail.com', 'San Martin 232, Merlo', 0, 1, '2021-12-16 01:01:15', '2021-12-16 01:01:15');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `procedimientos`
--

CREATE TABLE `procedimientos` (
  `id` int(11) NOT NULL,
  `nombre` varchar(50) NOT NULL,
  `descripcion` varchar(250) NOT NULL,
  `indicaciones` varchar(250) NOT NULL,
  `createdAt` datetime NOT NULL,
  `updatedAt` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `procedimientos`
--

INSERT INTO `procedimientos` (`id`, `nombre`, `descripcion`, `indicaciones`, `createdAt`, `updatedAt`) VALUES
(1, 'Radiologia', 'Radiología general', 'sin objetos metalicos', '2021-11-07 23:56:14', '2021-11-07 23:56:14'),
(2, 'Electrocardiograma', 'electrocardiograma', 'traer toalla', '2021-11-07 23:56:14', '2021-11-07 23:56:14'),
(3, 'Ecografia', 'Ecografía general', 'traer toalla', '2021-11-07 23:57:19', '2021-11-07 23:57:19'),
(4, 'Endoscopia', 'Endoscopia', 'ayunas 12h', '2021-11-07 23:57:19', '2021-11-07 23:57:19'),
(8, 'Tomografia', 'Tomografia computada', 'No metales. Asistir aseado', '2021-11-29 19:31:18', '2021-12-15 15:17:19'),
(12, 'Resonancia Magnetica', 'Resonancia magnetica computarizada', 'Sin metales. No Moverse', '2021-12-13 13:37:54', '2021-12-13 13:37:54'),
(23, 'Electroencefalograma', 'Electroencefalograma', 'No metales. Asistir aseado', '2021-12-15 23:32:13', '2021-12-15 23:32:13');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `roles`
--

CREATE TABLE `roles` (
  `id` int(11) NOT NULL,
  `nombre` varchar(50) NOT NULL,
  `informacion` varchar(250) NOT NULL,
  `createdAt` datetime NOT NULL,
  `updatedAt` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `roles`
--

INSERT INTO `roles` (`id`, `nombre`, `informacion`, `createdAt`, `updatedAt`) VALUES
(1, 'Administrador', 'Administrador del sistema, crea agendas.', '2021-11-07 23:42:39', '2021-11-07 23:42:39'),
(2, 'Admision', 'Recepcionista, puede asignar turnos y cambiarles el estado.', '2021-11-07 23:42:39', '2021-11-07 23:42:39'),
(3, 'Paciente', 'Paciente puede agendar turnos, cancelar turno.', '2021-11-07 23:44:21', '2021-11-07 23:44:21');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `turnos`
--

CREATE TABLE `turnos` (
  `id` int(11) NOT NULL,
  `personaid` int(11) DEFAULT NULL,
  `calendarioid` int(11) NOT NULL,
  `fecha_reserva` datetime DEFAULT NULL,
  `hora_turno` time NOT NULL,
  `estadoturnoid` tinyint(4) NOT NULL DEFAULT 1,
  `comentario` varchar(250) DEFAULT NULL,
  `createdAt` datetime NOT NULL,
  `updatedAt` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `turnos`
--

INSERT INTO `turnos` (`id`, `personaid`, `calendarioid`, `fecha_reserva`, `hora_turno`, `estadoturnoid`, `comentario`, `createdAt`, `updatedAt`) VALUES
(53, 38, 15, '2021-11-25 17:34:15', '08:00:00', 5, NULL, '2021-11-25 16:07:43', '2021-11-25 17:34:15'),
(54, NULL, 15, NULL, '08:30:00', 5, NULL, '2021-11-25 16:07:43', '2021-11-25 16:07:43'),
(55, NULL, 15, NULL, '09:00:00', 5, NULL, '2021-11-25 16:07:43', '2021-11-25 16:07:43'),
(56, NULL, 15, NULL, '09:30:00', 5, NULL, '2021-11-25 16:07:43', '2021-11-25 16:07:43'),
(57, NULL, 15, NULL, '10:00:00', 5, NULL, '2021-11-25 16:07:43', '2021-11-25 16:07:43'),
(58, NULL, 15, NULL, '10:30:00', 5, NULL, '2021-11-25 16:07:43', '2021-11-25 16:07:43'),
(59, NULL, 15, NULL, '11:00:00', 5, NULL, '2021-11-25 16:07:43', '2021-11-25 16:07:43'),
(60, 43, 16, '2021-11-29 20:27:59', '08:00:00', 5, NULL, '2021-11-25 16:08:43', '2021-11-29 20:27:59'),
(61, NULL, 16, NULL, '08:30:00', 5, NULL, '2021-11-25 16:08:43', '2021-11-25 16:08:43'),
(62, NULL, 16, NULL, '09:00:00', 5, NULL, '2021-11-25 16:08:43', '2021-11-25 16:08:43'),
(63, NULL, 16, NULL, '09:30:00', 5, NULL, '2021-11-25 16:08:43', '2021-11-25 16:08:43'),
(64, NULL, 16, NULL, '10:00:00', 5, NULL, '2021-11-25 16:08:43', '2021-11-25 16:08:43'),
(65, NULL, 16, NULL, '10:30:00', 5, NULL, '2021-11-25 16:08:43', '2021-11-25 16:08:43'),
(66, NULL, 16, NULL, '11:00:00', 5, NULL, '2021-11-25 16:08:43', '2021-11-25 16:08:43'),
(67, NULL, 17, NULL, '08:00:00', 5, NULL, '2021-11-25 16:09:22', '2021-11-25 16:09:22'),
(68, NULL, 17, NULL, '08:30:00', 5, NULL, '2021-11-25 16:09:22', '2021-11-25 16:09:22'),
(69, NULL, 17, NULL, '09:00:00', 5, NULL, '2021-11-25 16:09:22', '2021-11-25 16:09:22'),
(70, NULL, 17, NULL, '09:30:00', 5, NULL, '2021-11-25 16:09:22', '2021-11-25 16:09:22'),
(71, 42, 17, '2021-11-25 17:13:35', '10:00:00', 5, NULL, '2021-11-25 16:09:22', '2021-11-25 17:13:35'),
(72, NULL, 17, NULL, '10:30:00', 5, NULL, '2021-11-25 16:09:22', '2021-11-25 16:09:22'),
(73, NULL, 17, NULL, '11:00:00', 5, NULL, '2021-11-25 16:09:22', '2021-11-25 16:09:22'),
(74, NULL, 18, NULL, '08:00:00', 5, NULL, '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(75, NULL, 18, NULL, '08:15:00', 5, NULL, '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(76, NULL, 18, NULL, '08:30:00', 5, NULL, '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(77, NULL, 18, NULL, '08:45:00', 5, NULL, '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(78, NULL, 18, NULL, '09:00:00', 5, NULL, '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(79, NULL, 18, NULL, '09:15:00', 5, NULL, '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(80, NULL, 18, NULL, '09:30:00', 5, NULL, '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(81, NULL, 18, NULL, '09:45:00', 5, NULL, '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(82, NULL, 18, NULL, '10:00:00', 5, NULL, '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(83, NULL, 18, NULL, '10:15:00', 5, NULL, '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(84, NULL, 18, NULL, '10:30:00', 5, NULL, '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(85, NULL, 18, NULL, '10:45:00', 5, NULL, '2021-11-25 16:11:59', '2021-11-25 16:11:59'),
(86, NULL, 19, NULL, '08:00:00', 5, NULL, '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(87, NULL, 19, NULL, '08:15:00', 5, NULL, '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(88, NULL, 19, NULL, '08:30:00', 5, NULL, '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(89, NULL, 19, NULL, '08:45:00', 5, NULL, '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(90, NULL, 19, NULL, '09:00:00', 5, NULL, '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(91, NULL, 19, NULL, '09:15:00', 5, NULL, '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(92, NULL, 19, NULL, '09:30:00', 5, NULL, '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(93, NULL, 19, NULL, '09:45:00', 5, NULL, '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(94, NULL, 19, NULL, '10:00:00', 5, NULL, '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(95, NULL, 19, NULL, '10:15:00', 5, NULL, '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(96, NULL, 19, NULL, '10:30:00', 5, NULL, '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(97, NULL, 19, NULL, '10:45:00', 5, NULL, '2021-11-25 16:12:44', '2021-11-25 16:12:44'),
(98, NULL, 20, NULL, '08:00:00', 5, NULL, '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(99, NULL, 20, NULL, '08:15:00', 5, NULL, '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(100, NULL, 20, NULL, '08:30:00', 5, NULL, '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(101, NULL, 20, NULL, '08:45:00', 5, NULL, '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(102, NULL, 20, NULL, '09:00:00', 5, NULL, '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(103, NULL, 20, NULL, '09:15:00', 5, NULL, '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(104, NULL, 20, NULL, '09:30:00', 5, NULL, '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(105, NULL, 20, NULL, '09:45:00', 5, NULL, '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(106, NULL, 20, NULL, '10:00:00', 5, NULL, '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(107, NULL, 20, NULL, '10:15:00', 5, NULL, '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(108, NULL, 20, NULL, '10:30:00', 5, NULL, '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(109, NULL, 20, NULL, '10:45:00', 5, NULL, '2021-11-25 16:13:19', '2021-11-25 16:13:19'),
(110, NULL, 21, NULL, '14:30:00', 5, NULL, '2021-11-25 16:14:04', '2021-11-25 16:14:04'),
(111, NULL, 21, NULL, '14:45:00', 5, NULL, '2021-11-25 16:14:04', '2021-11-25 16:14:04'),
(112, NULL, 21, NULL, '15:00:00', 5, NULL, '2021-11-25 16:14:04', '2021-11-25 16:14:04'),
(113, NULL, 21, NULL, '15:15:00', 5, NULL, '2021-11-25 16:14:04', '2021-11-25 16:14:04'),
(114, NULL, 21, NULL, '15:30:00', 5, NULL, '2021-11-25 16:14:04', '2021-11-25 16:14:04'),
(115, NULL, 21, NULL, '15:45:00', 5, NULL, '2021-11-25 16:14:04', '2021-11-25 16:14:04'),
(116, NULL, 21, NULL, '16:00:00', 5, NULL, '2021-11-25 16:14:04', '2021-11-25 16:14:04'),
(117, NULL, 21, NULL, '16:15:00', 5, NULL, '2021-11-25 16:14:04', '2021-11-25 16:14:04'),
(118, NULL, 22, NULL, '08:00:00', 5, NULL, '2021-11-25 16:15:21', '2021-11-25 16:15:21'),
(119, NULL, 22, NULL, '08:45:00', 5, NULL, '2021-11-25 16:15:21', '2021-11-25 16:15:21'),
(120, NULL, 22, NULL, '09:30:00', 5, NULL, '2021-11-25 16:15:21', '2021-11-25 16:15:21'),
(121, NULL, 22, NULL, '10:15:00', 5, NULL, '2021-11-25 16:15:21', '2021-11-25 16:15:21'),
(122, NULL, 22, NULL, '11:00:00', 5, NULL, '2021-11-25 16:15:21', '2021-11-25 16:15:21'),
(123, NULL, 22, NULL, '11:45:00', 5, NULL, '2021-11-25 16:15:21', '2021-11-25 16:15:21'),
(124, NULL, 22, NULL, '12:30:00', 5, NULL, '2021-11-25 16:15:21', '2021-11-25 16:15:21'),
(125, NULL, 23, NULL, '08:00:00', 5, NULL, '2021-11-25 16:16:08', '2021-11-25 16:16:08'),
(126, NULL, 23, NULL, '08:45:00', 5, NULL, '2021-11-25 16:16:08', '2021-11-25 16:16:08'),
(127, NULL, 23, NULL, '09:30:00', 5, NULL, '2021-11-25 16:16:08', '2021-11-25 16:16:08'),
(128, NULL, 23, NULL, '10:15:00', 5, NULL, '2021-11-25 16:16:08', '2021-11-25 16:16:08'),
(129, NULL, 23, NULL, '11:00:00', 5, NULL, '2021-11-25 16:16:08', '2021-11-25 16:16:08'),
(130, NULL, 23, NULL, '11:45:00', 5, NULL, '2021-11-25 16:16:08', '2021-11-25 16:16:08'),
(131, NULL, 23, NULL, '12:30:00', 5, NULL, '2021-11-25 16:16:08', '2021-11-25 16:16:08'),
(132, 43, 24, '2021-11-29 19:49:03', '14:30:00', 5, NULL, '2021-11-25 16:18:02', '2021-11-29 19:49:20'),
(133, NULL, 24, NULL, '15:30:00', 5, NULL, '2021-11-25 16:18:02', '2021-11-25 16:18:02'),
(134, NULL, 24, NULL, '16:30:00', 5, NULL, '2021-11-25 16:18:02', '2021-11-25 16:18:02'),
(135, NULL, 24, NULL, '17:30:00', 5, NULL, '2021-11-25 16:18:02', '2021-11-25 16:18:02'),
(136, NULL, 25, NULL, '14:30:00', 5, NULL, '2021-11-25 16:18:23', '2021-11-25 16:18:23'),
(137, NULL, 25, NULL, '15:30:00', 5, NULL, '2021-11-25 16:18:23', '2021-11-25 16:18:23'),
(138, NULL, 25, NULL, '16:30:00', 5, NULL, '2021-11-25 16:18:23', '2021-11-25 16:18:23'),
(139, NULL, 25, NULL, '17:30:00', 5, NULL, '2021-11-25 16:18:23', '2021-11-25 16:18:23'),
(140, NULL, 26, NULL, '14:30:00', 5, NULL, '2021-11-25 16:19:03', '2021-11-25 16:19:03'),
(141, NULL, 26, NULL, '15:30:00', 5, NULL, '2021-11-25 16:19:03', '2021-11-25 16:19:03'),
(142, NULL, 26, NULL, '16:30:00', 5, NULL, '2021-11-25 16:19:03', '2021-11-25 16:19:03'),
(143, NULL, 26, NULL, '17:30:00', 5, NULL, '2021-11-25 16:19:03', '2021-11-25 16:19:03'),
(144, NULL, 27, NULL, '08:00:00', 5, NULL, '2021-11-25 16:21:19', '2021-11-25 16:21:19'),
(145, NULL, 27, NULL, '08:30:00', 5, NULL, '2021-11-25 16:21:19', '2021-11-25 16:21:19'),
(146, NULL, 27, NULL, '09:00:00', 5, NULL, '2021-11-25 16:21:19', '2021-11-25 16:21:19'),
(147, NULL, 27, NULL, '09:30:00', 5, NULL, '2021-11-25 16:21:19', '2021-11-25 16:21:19'),
(148, NULL, 27, NULL, '10:00:00', 5, NULL, '2021-11-25 16:21:19', '2021-11-25 16:21:19'),
(149, NULL, 27, NULL, '10:30:00', 5, NULL, '2021-11-25 16:21:19', '2021-11-25 16:21:19'),
(150, NULL, 27, NULL, '11:00:00', 5, NULL, '2021-11-25 16:21:19', '2021-11-25 16:21:19'),
(151, NULL, 27, NULL, '11:30:00', 5, NULL, '2021-11-25 16:21:19', '2021-11-25 16:21:19'),
(152, NULL, 28, NULL, '08:00:00', 5, NULL, '2021-11-25 16:21:41', '2021-11-25 16:21:41'),
(153, NULL, 28, NULL, '08:30:00', 5, NULL, '2021-11-25 16:21:41', '2021-11-25 16:21:41'),
(154, NULL, 28, NULL, '09:00:00', 5, NULL, '2021-11-25 16:21:41', '2021-11-25 16:21:41'),
(155, NULL, 28, NULL, '09:30:00', 5, NULL, '2021-11-25 16:21:41', '2021-11-25 16:21:41'),
(156, NULL, 28, NULL, '10:00:00', 5, NULL, '2021-11-25 16:21:41', '2021-11-25 16:21:41'),
(157, NULL, 28, NULL, '10:30:00', 5, NULL, '2021-11-25 16:21:41', '2021-11-25 16:21:41'),
(158, NULL, 28, NULL, '11:00:00', 5, NULL, '2021-11-25 16:21:41', '2021-11-25 16:21:41'),
(159, NULL, 28, NULL, '11:30:00', 5, NULL, '2021-11-25 16:21:41', '2021-11-25 16:21:41'),
(160, NULL, 29, NULL, '08:00:00', 5, NULL, '2021-11-25 16:21:53', '2021-11-25 16:21:53'),
(161, NULL, 29, NULL, '08:30:00', 5, NULL, '2021-11-25 16:21:53', '2021-11-25 16:21:53'),
(162, NULL, 29, NULL, '09:00:00', 5, NULL, '2021-11-25 16:21:53', '2021-11-25 16:21:53'),
(163, NULL, 29, NULL, '09:30:00', 5, NULL, '2021-11-25 16:21:53', '2021-11-25 16:21:53'),
(164, NULL, 29, NULL, '10:00:00', 5, NULL, '2021-11-25 16:21:53', '2021-11-25 16:21:53'),
(165, NULL, 29, NULL, '10:30:00', 5, NULL, '2021-11-25 16:21:53', '2021-11-25 16:21:53'),
(166, NULL, 29, NULL, '11:00:00', 5, NULL, '2021-11-25 16:21:53', '2021-11-25 16:21:53'),
(167, NULL, 29, NULL, '11:30:00', 5, NULL, '2021-11-25 16:21:53', '2021-11-25 16:21:53'),
(168, NULL, 30, NULL, '09:00:00', 5, NULL, '2021-11-25 16:23:56', '2021-11-25 16:23:56'),
(169, NULL, 30, NULL, '09:45:00', 5, NULL, '2021-11-25 16:23:56', '2021-11-25 16:23:56'),
(170, NULL, 30, NULL, '10:30:00', 5, NULL, '2021-11-25 16:23:56', '2021-11-25 16:23:56'),
(171, NULL, 30, NULL, '11:15:00', 5, NULL, '2021-11-25 16:23:56', '2021-11-25 16:23:56'),
(172, NULL, 31, NULL, '09:00:00', 5, NULL, '2021-11-25 16:24:10', '2021-11-25 16:24:10'),
(173, NULL, 31, NULL, '09:45:00', 5, NULL, '2021-11-25 16:24:10', '2021-11-25 16:24:10'),
(174, NULL, 31, NULL, '10:30:00', 5, NULL, '2021-11-25 16:24:10', '2021-11-25 16:24:10'),
(175, NULL, 31, NULL, '11:15:00', 5, NULL, '2021-11-25 16:24:10', '2021-11-25 16:24:10'),
(176, NULL, 32, NULL, '09:00:00', 5, NULL, '2021-11-25 16:24:23', '2021-11-25 16:24:23'),
(177, NULL, 32, NULL, '09:45:00', 5, NULL, '2021-11-25 16:24:23', '2021-11-25 16:24:23'),
(178, NULL, 32, NULL, '10:30:00', 5, NULL, '2021-11-25 16:24:23', '2021-11-25 16:24:23'),
(179, NULL, 32, NULL, '11:15:00', 5, NULL, '2021-11-25 16:24:23', '2021-11-25 16:24:23'),
(180, NULL, 33, NULL, '09:00:00', 5, NULL, '2021-11-25 16:24:34', '2021-11-25 16:24:34'),
(181, NULL, 33, NULL, '09:45:00', 5, NULL, '2021-11-25 16:24:34', '2021-11-25 16:24:34'),
(182, NULL, 33, NULL, '10:30:00', 5, NULL, '2021-11-25 16:24:34', '2021-11-25 16:24:34'),
(183, NULL, 33, NULL, '11:15:00', 5, NULL, '2021-11-25 16:24:34', '2021-11-25 16:24:34'),
(184, NULL, 34, NULL, '08:00:00', 5, NULL, '2021-11-25 16:25:38', '2021-11-25 16:25:38'),
(185, NULL, 34, NULL, '08:30:00', 5, NULL, '2021-11-25 16:25:38', '2021-11-25 16:25:38'),
(186, NULL, 34, NULL, '09:00:00', 5, NULL, '2021-11-25 16:25:38', '2021-11-25 16:25:38'),
(187, NULL, 34, NULL, '09:30:00', 5, NULL, '2021-11-25 16:25:38', '2021-11-25 16:25:38'),
(188, NULL, 34, NULL, '10:00:00', 5, NULL, '2021-11-25 16:25:38', '2021-11-25 16:25:38'),
(189, NULL, 34, NULL, '10:30:00', 5, NULL, '2021-11-25 16:25:38', '2021-11-25 16:25:38'),
(190, NULL, 35, NULL, '08:00:00', 5, NULL, '2021-11-25 16:25:50', '2021-11-25 16:25:50'),
(191, NULL, 35, NULL, '08:30:00', 5, NULL, '2021-11-25 16:25:50', '2021-11-25 16:25:50'),
(192, NULL, 35, NULL, '09:00:00', 5, NULL, '2021-11-25 16:25:50', '2021-11-25 16:25:50'),
(193, NULL, 35, NULL, '09:30:00', 5, NULL, '2021-11-25 16:25:50', '2021-11-25 16:25:50'),
(194, NULL, 35, NULL, '10:00:00', 5, NULL, '2021-11-25 16:25:50', '2021-11-25 16:25:50'),
(195, NULL, 35, NULL, '10:30:00', 5, NULL, '2021-11-25 16:25:50', '2021-11-25 16:25:50'),
(196, NULL, 36, NULL, '08:00:00', 5, NULL, '2021-11-25 16:26:03', '2021-11-25 16:26:03'),
(197, NULL, 36, NULL, '08:30:00', 5, NULL, '2021-11-25 16:26:03', '2021-11-25 16:26:03'),
(198, NULL, 36, NULL, '09:00:00', 5, NULL, '2021-11-25 16:26:03', '2021-11-25 16:26:03'),
(199, NULL, 36, NULL, '09:30:00', 5, NULL, '2021-11-25 16:26:03', '2021-11-25 16:26:03'),
(200, NULL, 36, NULL, '10:00:00', 5, NULL, '2021-11-25 16:26:03', '2021-11-25 16:26:03'),
(201, NULL, 36, NULL, '10:30:00', 5, NULL, '2021-11-25 16:26:03', '2021-11-25 16:26:03'),
(202, NULL, 37, NULL, '14:00:00', 5, NULL, '2021-11-25 16:26:42', '2021-11-25 16:26:42'),
(203, NULL, 37, NULL, '14:45:00', 5, NULL, '2021-11-25 16:26:42', '2021-11-25 16:26:42'),
(204, NULL, 37, NULL, '15:30:00', 5, NULL, '2021-11-25 16:26:42', '2021-11-25 16:26:42'),
(205, NULL, 37, NULL, '16:15:00', 5, NULL, '2021-11-25 16:26:42', '2021-11-25 16:26:42'),
(206, NULL, 38, NULL, '14:00:00', 5, NULL, '2021-11-25 16:27:03', '2021-11-25 16:27:03'),
(207, NULL, 38, NULL, '14:45:00', 5, NULL, '2021-11-25 16:27:03', '2021-11-25 16:27:03'),
(208, NULL, 38, NULL, '15:30:00', 5, NULL, '2021-11-25 16:27:03', '2021-11-25 16:27:03'),
(209, NULL, 38, NULL, '16:15:00', 5, NULL, '2021-11-25 16:27:03', '2021-11-25 16:27:03'),
(210, NULL, 39, NULL, '14:00:00', 5, NULL, '2021-11-25 16:27:15', '2021-11-25 16:27:15'),
(211, NULL, 39, NULL, '14:45:00', 5, NULL, '2021-11-25 16:27:15', '2021-11-25 16:27:15'),
(212, NULL, 39, NULL, '15:30:00', 5, NULL, '2021-11-25 16:27:15', '2021-11-25 16:27:15'),
(213, NULL, 39, NULL, '16:15:00', 5, NULL, '2021-11-25 16:27:15', '2021-11-25 16:27:15'),
(214, NULL, 40, NULL, '14:00:00', 5, NULL, '2021-11-25 16:27:29', '2021-11-25 16:27:29'),
(215, NULL, 40, NULL, '14:45:00', 5, NULL, '2021-11-25 16:27:29', '2021-11-25 16:27:29'),
(216, NULL, 40, NULL, '15:30:00', 5, NULL, '2021-11-25 16:27:29', '2021-11-25 16:27:29'),
(217, NULL, 40, NULL, '16:15:00', 5, NULL, '2021-11-25 16:27:29', '2021-11-25 16:27:29'),
(218, NULL, 41, NULL, '08:00:00', 5, NULL, '2021-11-25 16:28:46', '2021-11-25 16:28:46'),
(219, NULL, 41, NULL, '08:45:00', 5, NULL, '2021-11-25 16:28:46', '2021-11-25 16:28:46'),
(220, NULL, 41, NULL, '09:30:00', 5, NULL, '2021-11-25 16:28:46', '2021-11-25 16:28:46'),
(221, NULL, 41, NULL, '10:15:00', 5, NULL, '2021-11-25 16:28:46', '2021-11-25 16:28:46'),
(222, NULL, 41, NULL, '11:00:00', 5, NULL, '2021-11-25 16:28:46', '2021-11-25 16:28:46'),
(223, NULL, 42, NULL, '08:00:00', 5, NULL, '2021-11-25 16:28:58', '2021-11-25 16:28:58'),
(224, NULL, 42, NULL, '08:45:00', 5, NULL, '2021-11-25 16:28:58', '2021-11-25 16:28:58'),
(225, NULL, 42, NULL, '09:30:00', 5, NULL, '2021-11-25 16:28:58', '2021-11-25 16:28:58'),
(226, NULL, 42, NULL, '10:15:00', 5, NULL, '2021-11-25 16:28:58', '2021-11-25 16:28:58'),
(227, NULL, 42, NULL, '11:00:00', 5, NULL, '2021-11-25 16:28:58', '2021-11-25 16:28:58'),
(228, NULL, 43, NULL, '08:00:00', 5, NULL, '2021-11-25 16:29:09', '2021-11-25 16:29:09'),
(229, NULL, 43, NULL, '08:45:00', 5, NULL, '2021-11-25 16:29:09', '2021-11-25 16:29:09'),
(230, NULL, 43, NULL, '09:30:00', 5, NULL, '2021-11-25 16:29:09', '2021-11-25 16:29:09'),
(231, NULL, 43, NULL, '10:15:00', 5, NULL, '2021-11-25 16:29:09', '2021-11-25 16:29:09'),
(232, NULL, 43, NULL, '11:00:00', 5, NULL, '2021-11-25 16:29:09', '2021-11-25 16:29:09'),
(233, NULL, 44, NULL, '08:00:00', 5, NULL, '2021-11-25 16:29:19', '2021-11-25 16:29:19'),
(234, NULL, 44, NULL, '08:45:00', 5, NULL, '2021-11-25 16:29:19', '2021-11-25 16:29:19'),
(235, NULL, 44, NULL, '09:30:00', 5, NULL, '2021-11-25 16:29:19', '2021-11-25 16:29:19'),
(236, NULL, 44, NULL, '10:15:00', 5, NULL, '2021-11-25 16:29:19', '2021-11-25 16:29:19'),
(237, NULL, 44, NULL, '11:00:00', 5, NULL, '2021-11-25 16:29:19', '2021-11-25 16:29:19'),
(238, 43, 45, '2021-11-29 19:27:51', '08:00:00', 5, NULL, '2021-11-25 16:30:46', '2021-11-29 19:27:51'),
(239, NULL, 45, NULL, '08:30:00', 5, NULL, '2021-11-25 16:30:46', '2021-11-25 16:30:46'),
(240, NULL, 45, NULL, '09:00:00', 5, NULL, '2021-11-25 16:30:46', '2021-11-25 16:30:46'),
(241, NULL, 45, NULL, '09:30:00', 5, NULL, '2021-11-25 16:30:46', '2021-11-25 16:30:46'),
(242, NULL, 45, NULL, '10:00:00', 5, NULL, '2021-11-25 16:30:46', '2021-11-25 16:30:46'),
(243, NULL, 45, NULL, '10:30:00', 5, NULL, '2021-11-25 16:30:46', '2021-11-25 16:30:46'),
(244, NULL, 45, NULL, '11:00:00', 5, NULL, '2021-11-25 16:30:46', '2021-11-25 16:30:46'),
(245, NULL, 46, NULL, '08:00:00', 5, NULL, '2021-11-25 16:30:58', '2021-11-25 16:30:58'),
(246, NULL, 46, NULL, '08:30:00', 5, NULL, '2021-11-25 16:30:58', '2021-11-25 16:30:58'),
(247, NULL, 46, NULL, '09:00:00', 5, NULL, '2021-11-25 16:30:58', '2021-11-25 16:30:58'),
(248, NULL, 46, NULL, '09:30:00', 5, NULL, '2021-11-25 16:30:58', '2021-11-25 16:30:58'),
(249, NULL, 46, NULL, '10:00:00', 5, NULL, '2021-11-25 16:30:58', '2021-11-25 16:30:58'),
(250, NULL, 46, NULL, '10:30:00', 5, NULL, '2021-11-25 16:30:58', '2021-11-25 16:30:58'),
(251, NULL, 46, NULL, '11:00:00', 5, NULL, '2021-11-25 16:30:58', '2021-11-25 16:30:58'),
(252, NULL, 47, NULL, '08:00:00', 5, NULL, '2021-11-25 16:31:10', '2021-11-25 16:31:10'),
(253, NULL, 47, NULL, '08:30:00', 5, NULL, '2021-11-25 16:31:10', '2021-11-25 16:31:10'),
(254, NULL, 47, NULL, '09:00:00', 5, NULL, '2021-11-25 16:31:10', '2021-11-25 16:31:10'),
(255, NULL, 47, NULL, '09:30:00', 5, NULL, '2021-11-25 16:31:10', '2021-11-25 16:31:10'),
(256, NULL, 47, NULL, '10:00:00', 5, NULL, '2021-11-25 16:31:10', '2021-11-25 16:31:10'),
(257, NULL, 47, NULL, '10:30:00', 5, NULL, '2021-11-25 16:31:10', '2021-11-25 16:31:10'),
(258, NULL, 47, NULL, '11:00:00', 5, NULL, '2021-11-25 16:31:10', '2021-11-25 16:31:10'),
(259, NULL, 48, NULL, '08:00:00', 5, NULL, '2021-11-25 16:34:35', '2021-11-25 16:34:35'),
(260, NULL, 48, NULL, '08:30:00', 5, NULL, '2021-11-25 16:34:35', '2021-11-25 16:34:35'),
(261, NULL, 48, NULL, '09:00:00', 5, NULL, '2021-11-25 16:34:35', '2021-11-25 16:34:35'),
(262, NULL, 48, NULL, '09:30:00', 5, NULL, '2021-11-25 16:34:35', '2021-11-25 16:34:35'),
(263, NULL, 48, NULL, '10:00:00', 5, NULL, '2021-11-25 16:34:35', '2021-11-25 16:34:35'),
(264, NULL, 48, NULL, '10:30:00', 5, NULL, '2021-11-25 16:34:35', '2021-11-25 16:34:35'),
(265, NULL, 48, NULL, '11:00:00', 5, NULL, '2021-11-25 16:34:35', '2021-11-25 16:34:35'),
(266, NULL, 49, NULL, '08:00:00', 5, NULL, '2021-11-25 17:16:20', '2021-11-25 17:16:20'),
(267, NULL, 49, NULL, '08:45:00', 5, NULL, '2021-11-25 17:16:20', '2021-11-25 17:16:20'),
(268, NULL, 49, NULL, '09:30:00', 5, NULL, '2021-11-25 17:16:20', '2021-11-25 17:16:20'),
(269, NULL, 49, NULL, '10:15:00', 5, NULL, '2021-11-25 17:16:20', '2021-11-25 17:16:20'),
(270, NULL, 49, NULL, '11:00:00', 5, NULL, '2021-11-25 17:16:20', '2021-11-25 17:16:20'),
(271, NULL, 50, NULL, '12:00:00', 5, NULL, '2021-11-25 17:17:29', '2021-11-25 17:17:29'),
(272, NULL, 50, NULL, '13:00:00', 5, NULL, '2021-11-25 17:17:29', '2021-11-25 17:17:29'),
(273, NULL, 50, NULL, '14:00:00', 5, NULL, '2021-11-25 17:17:29', '2021-11-25 17:17:29'),
(274, NULL, 51, NULL, '17:00:00', 5, NULL, '2021-11-29 19:34:56', '2021-11-29 19:34:56'),
(275, NULL, 51, NULL, '17:45:00', 5, NULL, '2021-11-29 19:34:56', '2021-11-29 19:34:56'),
(276, NULL, 51, NULL, '18:30:00', 5, NULL, '2021-11-29 19:34:56', '2021-11-29 19:34:56'),
(277, NULL, 51, NULL, '19:15:00', 5, NULL, '2021-11-29 19:34:56', '2021-11-29 19:34:56'),
(278, NULL, 51, NULL, '20:00:00', 5, NULL, '2021-11-29 19:34:56', '2021-11-29 19:34:56'),
(279, NULL, 52, NULL, '15:00:00', 5, NULL, '2021-11-29 20:21:59', '2021-11-29 20:21:59'),
(280, NULL, 52, NULL, '15:45:00', 5, NULL, '2021-11-29 20:21:59', '2021-11-29 20:21:59'),
(281, NULL, 52, NULL, '16:30:00', 5, NULL, '2021-11-29 20:21:59', '2021-11-29 20:21:59'),
(282, NULL, 53, NULL, '08:00:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(283, NULL, 53, NULL, '08:15:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(284, NULL, 53, NULL, '08:30:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(285, NULL, 53, NULL, '08:45:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(286, NULL, 53, NULL, '09:00:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(287, NULL, 53, NULL, '09:15:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(288, NULL, 53, NULL, '09:30:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(289, NULL, 53, NULL, '09:45:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(290, NULL, 53, NULL, '10:00:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(291, NULL, 53, NULL, '10:15:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(292, NULL, 53, NULL, '10:30:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(293, NULL, 53, NULL, '10:45:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(294, NULL, 53, NULL, '11:00:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(295, NULL, 53, NULL, '11:15:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(296, NULL, 53, NULL, '11:30:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(297, NULL, 53, NULL, '11:45:00', 5, NULL, '2021-12-12 14:10:38', '2021-12-12 14:10:38'),
(298, NULL, 54, NULL, '08:00:00', 5, NULL, '2021-12-12 17:30:25', '2021-12-12 17:30:25'),
(299, NULL, 54, NULL, '08:30:00', 5, NULL, '2021-12-12 17:30:25', '2021-12-12 17:30:25'),
(300, NULL, 54, NULL, '09:00:00', 5, NULL, '2021-12-12 17:30:25', '2021-12-12 17:30:25'),
(301, NULL, 54, NULL, '09:30:00', 5, NULL, '2021-12-12 17:30:25', '2021-12-12 17:30:25'),
(302, NULL, 54, NULL, '10:00:00', 5, NULL, '2021-12-12 17:30:25', '2021-12-12 17:30:25'),
(303, NULL, 54, NULL, '10:30:00', 5, NULL, '2021-12-12 17:30:25', '2021-12-12 17:30:25'),
(304, NULL, 54, NULL, '11:00:00', 5, NULL, '2021-12-12 17:30:25', '2021-12-12 17:30:25'),
(305, NULL, 54, NULL, '11:30:00', 5, NULL, '2021-12-12 17:30:25', '2021-12-12 17:30:25'),
(306, NULL, 55, '2021-12-15 01:10:34', '14:00:00', 5, NULL, '2021-12-12 18:46:55', '2021-12-15 01:10:34'),
(307, NULL, 55, NULL, '14:30:00', 5, NULL, '2021-12-12 18:46:55', '2021-12-12 18:46:55'),
(308, NULL, 55, NULL, '15:00:00', 5, NULL, '2021-12-12 18:46:55', '2021-12-12 18:46:55'),
(309, NULL, 55, NULL, '15:30:00', 5, NULL, '2021-12-12 18:46:55', '2021-12-12 18:46:55'),
(310, NULL, 56, NULL, '10:00:00', 5, NULL, '2021-12-13 14:02:31', '2021-12-13 14:02:31'),
(311, NULL, 56, NULL, '10:20:00', 5, NULL, '2021-12-13 14:02:31', '2021-12-13 14:02:31'),
(312, NULL, 56, NULL, '10:40:00', 5, NULL, '2021-12-13 14:02:31', '2021-12-13 14:02:31'),
(313, NULL, 56, NULL, '11:00:00', 5, NULL, '2021-12-13 14:02:31', '2021-12-13 14:02:31'),
(314, NULL, 56, NULL, '11:20:00', 5, NULL, '2021-12-13 14:02:31', '2021-12-13 14:02:31'),
(315, NULL, 56, NULL, '11:40:00', 5, NULL, '2021-12-13 14:02:31', '2021-12-13 14:02:31'),
(316, 41, 57, '2021-12-15 01:32:12', '08:00:00', 5, NULL, '2021-12-15 01:30:16', '2021-12-15 01:32:12'),
(317, NULL, 57, NULL, '08:30:00', 5, NULL, '2021-12-15 01:30:16', '2021-12-15 01:30:16'),
(318, 41, 57, '2021-12-15 01:39:17', '09:00:00', 5, NULL, '2021-12-15 01:30:16', '2021-12-15 13:25:58'),
(319, NULL, 57, NULL, '09:30:00', 5, NULL, '2021-12-15 01:30:16', '2021-12-15 01:30:16'),
(320, 41, 57, '2021-12-15 01:40:34', '10:00:00', 5, NULL, '2021-12-15 01:30:16', '2021-12-15 13:31:52'),
(321, NULL, 57, NULL, '10:30:00', 5, NULL, '2021-12-15 01:30:16', '2021-12-15 01:30:16'),
(322, NULL, 57, NULL, '11:00:00', 5, NULL, '2021-12-15 01:30:16', '2021-12-15 01:30:16'),
(323, NULL, 57, NULL, '11:30:00', 5, NULL, '2021-12-15 01:30:16', '2021-12-15 01:30:16'),
(324, 41, 58, '2021-12-15 02:05:03', '16:00:00', 5, NULL, '2021-12-15 02:02:40', '2021-12-15 13:29:26'),
(325, NULL, 58, NULL, '16:20:00', 5, NULL, '2021-12-15 02:02:40', '2021-12-15 02:02:40'),
(326, NULL, 58, NULL, '16:40:00', 5, NULL, '2021-12-15 02:02:40', '2021-12-15 02:02:40'),
(327, NULL, 58, NULL, '17:00:00', 5, NULL, '2021-12-15 02:02:40', '2021-12-15 02:02:40'),
(328, NULL, 58, NULL, '17:20:00', 5, NULL, '2021-12-15 02:02:40', '2021-12-15 02:02:40'),
(329, NULL, 58, NULL, '17:40:00', 5, NULL, '2021-12-15 02:02:40', '2021-12-15 02:02:40'),
(330, NULL, 59, NULL, '10:00:00', 5, NULL, '2021-12-15 02:51:42', '2021-12-15 02:51:42'),
(331, NULL, 59, NULL, '10:20:00', 5, NULL, '2021-12-15 02:51:42', '2021-12-15 02:51:42'),
(332, NULL, 59, NULL, '10:40:00', 5, NULL, '2021-12-15 02:51:42', '2021-12-15 02:51:42'),
(333, NULL, 59, NULL, '11:00:00', 5, NULL, '2021-12-15 02:51:42', '2021-12-15 02:51:42'),
(334, 41, 59, '2021-12-15 03:37:10', '11:20:00', 5, NULL, '2021-12-15 02:51:42', '2021-12-15 13:24:45'),
(335, NULL, 59, NULL, '11:40:00', 5, NULL, '2021-12-15 02:51:42', '2021-12-15 02:51:42'),
(336, 43, 60, '2021-12-16 09:52:39', '09:00:00', 4, NULL, '2021-12-15 02:57:34', '2021-12-16 09:57:27'),
(337, 0, 60, '2021-12-15 21:23:56', '09:20:00', 1, NULL, '2021-12-15 02:57:34', '2021-12-16 09:37:12'),
(338, 0, 60, '2021-12-15 21:31:31', '09:40:00', 1, NULL, '2021-12-15 02:57:34', '2021-12-16 09:24:38'),
(339, 0, 61, '2021-12-15 16:11:38', '12:00:00', 1, NULL, '2021-12-15 15:44:06', '2021-12-16 00:01:42'),
(340, 0, 61, '2021-12-15 17:31:27', '12:45:00', 1, NULL, '2021-12-15 15:44:06', '2021-12-16 09:29:22'),
(341, NULL, 61, NULL, '13:30:00', 1, NULL, '2021-12-15 15:44:06', '2021-12-15 15:44:06'),
(342, 0, 62, '2021-12-15 23:13:38', '18:00:00', 1, NULL, '2021-12-15 16:04:38', '2021-12-15 23:38:22'),
(343, 38, 63, '2021-12-16 09:51:09', '12:00:00', 4, NULL, '2021-12-15 17:15:04', '2021-12-16 09:57:41'),
(344, 0, 63, '2021-12-15 21:38:48', '12:40:00', 1, NULL, '2021-12-15 17:15:04', '2021-12-16 09:29:08'),
(345, NULL, 63, NULL, '13:20:00', 1, NULL, '2021-12-15 17:15:04', '2021-12-15 17:15:04'),
(346, NULL, 63, NULL, '14:00:00', 1, NULL, '2021-12-15 17:15:04', '2021-12-15 17:15:04'),
(347, 0, 63, '2021-12-16 10:03:44', '14:40:00', 1, NULL, '2021-12-15 17:15:04', '2021-12-16 10:05:31'),
(348, NULL, 63, NULL, '15:20:00', 1, NULL, '2021-12-15 17:15:04', '2021-12-15 17:15:04'),
(349, NULL, 64, NULL, '14:00:00', 1, NULL, '2021-12-15 23:15:30', '2021-12-15 23:15:30'),
(350, NULL, 64, NULL, '14:40:00', 1, NULL, '2021-12-15 23:15:30', '2021-12-15 23:15:30'),
(351, 0, 64, '2021-12-16 00:49:04', '15:20:00', 1, NULL, '2021-12-15 23:15:30', '2021-12-16 09:21:57'),
(352, 0, 65, '2021-12-16 09:39:54', '09:00:00', 1, NULL, '2021-12-16 01:03:27', '2021-12-16 09:44:50'),
(353, NULL, 65, NULL, '09:20:00', 1, NULL, '2021-12-16 01:03:27', '2021-12-16 01:03:27'),
(354, NULL, 65, NULL, '09:40:00', 1, NULL, '2021-12-16 01:03:27', '2021-12-16 01:03:27'),
(355, 40, 65, '2021-12-16 10:02:25', '10:00:00', 2, NULL, '2021-12-16 01:03:27', '2021-12-16 10:02:25'),
(356, 42, 65, '2021-12-16 09:51:33', '10:20:00', 2, NULL, '2021-12-16 01:03:27', '2021-12-16 09:51:33'),
(357, NULL, 65, NULL, '10:40:00', 1, NULL, '2021-12-16 01:03:27', '2021-12-16 01:03:27');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `usuarios`
--

CREATE TABLE `usuarios` (
  `id` int(11) NOT NULL,
  `usuario` varchar(50) NOT NULL,
  `password` varchar(255) NOT NULL,
  `roleid` int(11) NOT NULL DEFAULT 3,
  `createdAt` datetime NOT NULL,
  `updatedAt` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `usuarios`
--

INSERT INTO `usuarios` (`id`, `usuario`, `password`, `roleid`, `createdAt`, `updatedAt`) VALUES
(25, 'kevinpa', '$2b$10$LheZS9o2oSnxsiujtgX57.mXlvj.HfCwlWQXPYS.FUuJIauV4/Ebi', 1, '2021-11-25 15:52:00', '2021-11-25 15:52:00'),
(26, 'fergatica@gmail.com', '$2b$10$DzKczPM4aqqp2b3hTU20mOqohXUDXKYZI3Pv6lF.Y9sa12iTvPIbm', 1, '2021-11-25 15:53:50', '2021-11-25 15:53:50'),
(27, 'marce@gmail.com', '$2b$10$THhKFPZajsk87xVRq5ggLODbzKq6s.0aX6uANnbjjwimUWHVpqz42', 2, '2021-11-25 15:55:51', '2021-11-25 15:55:51'),
(28, 'lauchi@gmail.com', '$2b$10$vXkvqtadpZtei8HJReb/werZtKTfMK3aJ5R3onVNaBsq8qOjNL83.', 2, '2021-11-25 15:58:17', '2021-11-25 15:58:17'),
(29, 'jorgeb@gmail.com', '$2b$10$XtlnE.MWtzI8IoTiGEC4jugcLerssTfruJe5SacT.LOpMUb58pGCm', 3, '2021-11-25 15:59:48', '2021-11-25 15:59:48'),
(30, 'pb@gmail.com', '$2b$10$.zNfz2Tecu.BCLCI069pKuJnke2TCuO7zjw4OG/4po/eX6ubnmTGK', 3, '2021-11-25 16:01:17', '2021-11-25 16:01:17'),
(31, 'fsaez@gmail.com', '$2b$10$xV6mmoCaooYlGVIkzjge5u06Rck.HFcJPH07d/91LfaXkncFmy3aq', 3, '2021-11-25 16:03:14', '2021-11-25 16:03:14'),
(32, 'maxim@gmail.com', '$2b$10$Aht8JtFsk0wnLbrCNX8fa.m0Tr5I7i9umOP5h6jBS4eppLuSJIwBS', 3, '2021-11-25 16:33:19', '2021-11-25 16:33:19'),
(33, 'enriquep@gmail.com', '$2b$10$akmbBpdUWD2wCwp.Mn3AiOirsSYCw4XiwBThi6blZCiNJCpM5WVTu', 3, '2021-11-25 17:11:16', '2021-11-25 17:14:14'),
(34, 'azu@gmail.com', '123456', 3, '2021-11-29 19:26:54', '2021-11-29 19:26:54'),
(38, 'marche@gmail.com', '$2b$10$xVu4W0ftTkN4qCC05P0cve.2D4dR.rreZE6JPWj.n1vokE.1rHXIG', 1, '2021-12-12 13:36:57', '2021-12-12 13:36:57'),
(39, 'marcos@paz', '$2b$10$c2EcBD16yDpA6NRdCxTjU.QOTNIPikn3gLAQuXx2H0CPeW0YU3xmK', 3, '2021-12-13 14:30:20', '2021-12-13 14:30:20'),
(40, 'martinzanche@gmail.com', '', 3, '2021-12-14 10:48:26', '2021-12-14 10:48:26');

--
-- Índices para tablas volcadas
--

--
-- Indices de la tabla `agendas`
--
ALTER TABLE `agendas`
  ADD PRIMARY KEY (`id`),
  ADD KEY `FK_AGD_PER` (`personaid`),
  ADD KEY `FK_AGD_CNC` (`clinicaid`),
  ADD KEY `FK_AGD_MDC` (`medicoid`),
  ADD KEY `FK_AGD_PCT` (`procedimientoid`);

--
-- Indices de la tabla `calendarios`
--
ALTER TABLE `calendarios`
  ADD PRIMARY KEY (`id`),
  ADD KEY `FK_CLD_AGD` (`agendaid`);

--
-- Indices de la tabla `clinicas`
--
ALTER TABLE `clinicas`
  ADD PRIMARY KEY (`id`);

--
-- Indices de la tabla `especialidads`
--
ALTER TABLE `especialidads`
  ADD PRIMARY KEY (`id`);

--
-- Indices de la tabla `estado_turnos`
--
ALTER TABLE `estado_turnos`
  ADD PRIMARY KEY (`id`);

--
-- Indices de la tabla `medicos`
--
ALTER TABLE `medicos`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `matricula` (`matricula`),
  ADD KEY `FK_MDC_PER` (`personaid`),
  ADD KEY `FK_MDC_ESP` (`especialidadid`);

--
-- Indices de la tabla `personas`
--
ALTER TABLE `personas`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `dni` (`dni`),
  ADD KEY `FK_PER_USU` (`usuarioid`);

--
-- Indices de la tabla `procedimientos`
--
ALTER TABLE `procedimientos`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `nombre` (`nombre`);

--
-- Indices de la tabla `roles`
--
ALTER TABLE `roles`
  ADD PRIMARY KEY (`id`);

--
-- Indices de la tabla `turnos`
--
ALTER TABLE `turnos`
  ADD PRIMARY KEY (`id`),
  ADD KEY `FK_TRN_CLD` (`calendarioid`),
  ADD KEY `FK_TRN_ESTT` (`estadoturnoid`),
  ADD KEY `paciente` (`personaid`) USING BTREE;

--
-- Indices de la tabla `usuarios`
--
ALTER TABLE `usuarios`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `usuario` (`usuario`),
  ADD KEY `FK_USU_ROL` (`roleid`);

--
-- AUTO_INCREMENT de las tablas volcadas
--

--
-- AUTO_INCREMENT de la tabla `agendas`
--
ALTER TABLE `agendas`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=31;

--
-- AUTO_INCREMENT de la tabla `calendarios`
--
ALTER TABLE `calendarios`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=66;

--
-- AUTO_INCREMENT de la tabla `clinicas`
--
ALTER TABLE `clinicas`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=10;

--
-- AUTO_INCREMENT de la tabla `especialidads`
--
ALTER TABLE `especialidads`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=10;

--
-- AUTO_INCREMENT de la tabla `estado_turnos`
--
ALTER TABLE `estado_turnos`
  MODIFY `id` tinyint(4) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT de la tabla `medicos`
--
ALTER TABLE `medicos`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=14;

--
-- AUTO_INCREMENT de la tabla `personas`
--
ALTER TABLE `personas`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=53;

--
-- AUTO_INCREMENT de la tabla `procedimientos`
--
ALTER TABLE `procedimientos`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=24;

--
-- AUTO_INCREMENT de la tabla `roles`
--
ALTER TABLE `roles`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT de la tabla `turnos`
--
ALTER TABLE `turnos`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=358;

--
-- AUTO_INCREMENT de la tabla `usuarios`
--
ALTER TABLE `usuarios`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=41;

--
-- Restricciones para tablas volcadas
--

--
-- Filtros para la tabla `agendas`
--
ALTER TABLE `agendas`
  ADD CONSTRAINT `FK_AGD_CNC` FOREIGN KEY (`clinicaid`) REFERENCES `clinicas` (`id`),
  ADD CONSTRAINT `FK_AGD_MDC` FOREIGN KEY (`medicoid`) REFERENCES `medicos` (`id`),
  ADD CONSTRAINT `FK_AGD_PCT` FOREIGN KEY (`procedimientoid`) REFERENCES `procedimientos` (`id`),
  ADD CONSTRAINT `FK_AGD_PER` FOREIGN KEY (`personaid`) REFERENCES `personas` (`id`);

--
-- Filtros para la tabla `calendarios`
--
ALTER TABLE `calendarios`
  ADD CONSTRAINT `FK_CLD_AGD` FOREIGN KEY (`agendaid`) REFERENCES `agendas` (`id`);

--
-- Filtros para la tabla `medicos`
--
ALTER TABLE `medicos`
  ADD CONSTRAINT `FK_MDC_ESP` FOREIGN KEY (`especialidadid`) REFERENCES `especialidads` (`id`),
  ADD CONSTRAINT `FK_MDC_PER` FOREIGN KEY (`personaid`) REFERENCES `personas` (`id`);

--
-- Filtros para la tabla `personas`
--
ALTER TABLE `personas`
  ADD CONSTRAINT `FK_PER_USU` FOREIGN KEY (`usuarioid`) REFERENCES `usuarios` (`id`);

--
-- Filtros para la tabla `turnos`
--
ALTER TABLE `turnos`
  ADD CONSTRAINT `FK_TRN_CLD` FOREIGN KEY (`calendarioid`) REFERENCES `calendarios` (`id`),
  ADD CONSTRAINT `FK_TRN_ESTT` FOREIGN KEY (`estadoturnoid`) REFERENCES `estado_turnos` (`id`);

--
-- Filtros para la tabla `usuarios`
--
ALTER TABLE `usuarios`
  ADD CONSTRAINT `FK_USU_ROL` FOREIGN KEY (`roleid`) REFERENCES `roles` (`id`);

DELIMITER $$
--
-- Eventos
--
CREATE DEFINER=`root`@`localhost` EVENT `CAMBIARTURNOAUNSENTE` ON SCHEDULE EVERY 1 MINUTE STARTS '2021-11-23 00:00:00' ON COMPLETION NOT PRESERVE ENABLE DO BEGIN
            DECLARE IDTURNO INT;
            DECLARE DONE INT;
            DECLARE TURNOS_CAMBIAR CURSOR FOR
                SELECT t.id FROM turnos t JOIN calendarios c ON(t.calendarioid = c.id) 
                    WHERE (c.fecha <= CURRENT_DATE) AND (t.hora_turno < SUBTIME(CURRENT_TIME, '00:01:00')) AND (t.estadoturnoid IN (1,2));
            DECLARE CONTINUE HANDLER FOR NOT FOUND SET DONE = 1;
            SET DONE = 0;

            OPEN TURNOS_CAMBIAR;
            MYLOOP: LOOP
                FETCH TURNOS_CAMBIAR INTO IDTURNO;
                IF DONE THEN
                    LEAVE MYLOOP;
                END IF;
                CALL TURNOAUSENTE(IDTURNO);
            END LOOP MYLOOP;
            CLOSE TURNOS_CAMBIAR;
        END$$

DELIMITER ;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
